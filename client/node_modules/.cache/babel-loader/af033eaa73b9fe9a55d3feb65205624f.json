{"ast":null,"code":"import axios from \"axios\";\nvar BASEURL = \"https://api.nytimes.com/svc/search/v2/articlesearch.json?q=\";\nvar APIKEY = \"&api_key=6f9813872a14472ab89dd98413980828&limit=10\";\n\nvar search = function search(topic, begin_date, end_date) {\n  var allResults = [];\n  axios.get(BASEURL + topic + '&begin_date=' + begin_date + '&end_date=' + end_date + '&fl=web_url, headline, pub_date' + APIKEY).then(function (response) {\n    var result = {};\n\n    for (var i = 0; i < response.response.docs.length; i++) {\n      result.title = response.response.docs[i][\"headline\"][\"main\"];\n      result.web_url = response.response.docs[i][\"web_url\"];\n      var pub = response.response.docs[i][\"pub_date\"];\n      result.pub_date = pub.split(\"T\")[0];\n      var pub_time = pub.split(\"T\")[1];\n      result.pub_time = pub_time.split(\"+\")[0];\n      result.id = i;\n      console.log(\"result\", result);\n      allResults.push(result);\n      console.log(\"allResults\", allResults);\n    }\n  });\n  return allResults;\n};\n\nexport default search;","map":{"version":3,"sources":["C:\\Users\\sabho\\Desktop\\code\\week19\\homework\\nytreactsearch\\client\\src\\utils\\API.js"],"names":["axios","BASEURL","APIKEY","search","topic","begin_date","end_date","allResults","get","then","response","result","i","docs","length","title","web_url","pub","pub_date","split","pub_time","id","console","log","push"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,GAAG,6DAAhB;AACA,IAAMC,MAAM,GAAG,oDAAf;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD,EAAQC,UAAR,EAAoBC,QAApB,EAAiC;AAC9C,MAAIC,UAAU,GAAG,EAAjB;AACAP,EAAAA,KAAK,CAACQ,GAAN,CAAUP,OAAO,GAAGG,KAAV,GAAkB,cAAlB,GAAmCC,UAAnC,GAAgD,YAAhD,GAA+DC,QAA/D,GAA0E,iCAA1E,GAA8GJ,MAAxH,EACGO,IADH,CACQ,UAAUC,QAAV,EAAoB;AACxB,QAAIC,MAAM,GAAG,EAAb;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACA,QAAT,CAAkBG,IAAlB,CAAuBC,MAA3C,EAAmDF,CAAC,EAApD,EAAwD;AACtDD,MAAAA,MAAM,CAACI,KAAP,GAAeL,QAAQ,CAACA,QAAT,CAAkBG,IAAlB,CAAuBD,CAAvB,EAA0B,UAA1B,EAAsC,MAAtC,CAAf;AACAD,MAAAA,MAAM,CAACK,OAAP,GAAiBN,QAAQ,CAACA,QAAT,CAAkBG,IAAlB,CAAuBD,CAAvB,EAA0B,SAA1B,CAAjB;AACA,UAAIK,GAAG,GAAGP,QAAQ,CAACA,QAAT,CAAkBG,IAAlB,CAAuBD,CAAvB,EAA0B,UAA1B,CAAV;AACAD,MAAAA,MAAM,CAACO,QAAP,GAAkBD,GAAG,CAACE,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAlB;AACA,UAAIC,QAAQ,GAAGH,GAAG,CAACE,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAf;AACAR,MAAAA,MAAM,CAACS,QAAP,GAAkBA,QAAQ,CAACD,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAlB;AACAR,MAAAA,MAAM,CAACU,EAAP,GAAYT,CAAZ;AACAU,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBZ,MAAtB;AACAJ,MAAAA,UAAU,CAACiB,IAAX,CAAgBb,MAAhB;AACAW,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BhB,UAA1B;AACD;AACF,GAhBH;AAiBA,SAAOA,UAAP;AACD,CApBD;;AAsBA,eAAeJ,MAAf","sourcesContent":["import axios from \"axios\";\r\n\r\nconst BASEURL = \"https://api.nytimes.com/svc/search/v2/articlesearch.json?q=\";\r\nconst APIKEY = \"&api_key=6f9813872a14472ab89dd98413980828&limit=10\";\r\n\r\nconst search = (topic, begin_date, end_date) => {\r\n  var allResults = [];\r\n  axios.get(BASEURL + topic + '&begin_date=' + begin_date + '&end_date=' + end_date + '&fl=web_url, headline, pub_date' + APIKEY)\r\n    .then(function (response) {\r\n      var result = {};\r\n      \r\n      for (var i = 0; i < response.response.docs.length; i++) {\r\n        result.title = response.response.docs[i][\"headline\"][\"main\"];\r\n        result.web_url = response.response.docs[i][\"web_url\"];\r\n        var pub = response.response.docs[i][\"pub_date\"];\r\n        result.pub_date = pub.split(\"T\")[0];\r\n        var pub_time = pub.split(\"T\")[1];\r\n        result.pub_time = pub_time.split(\"+\")[0];\r\n        result.id = i;\r\n        console.log(\"result\", result);\r\n        allResults.push(result);\r\n        console.log(\"allResults\", allResults);\r\n      }\r\n    });\r\n  return allResults;\r\n}\r\n\r\nexport default search;"]},"metadata":{},"sourceType":"module"}