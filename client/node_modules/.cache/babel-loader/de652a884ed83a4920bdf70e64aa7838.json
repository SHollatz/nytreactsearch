{"ast":null,"code":"import axios from \"axios\"; //NYT\n\nvar BASEURL = \"https://api.nytimes.com/svc/search/v2/articlesearch.json?q=\";\nvar APIKEY = \"&apikey=6f9813872a14472ab89dd98413980828\"; // The Economist\n// const BASEURL = \"https://newsapi.org/v2/everything?q=\";\n// const APIKEY = \"&apiKey=67d4789abce04860812417025e343f7b$limit=10\";\n\nexport default {\n  // NYT\n  search: function search() {\n    var topic = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"Seattle\";\n    var begin_date = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"20180117\";\n    var end_date = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"20180118\";\n    console.log(\"query: \", BASEURL + topic + '&begin_date=' + begin_date + '&end_date=' + end_date + '&fl=web_url,headline,pub_date' + APIKEY);\n    console.log(axios.get(BASEURL + topic + '&begin_date=' + begin_date + '&end_date=' + end_date + '&fl=web_url,headline,pub_date' + APIKEY));\n    var queryResults = axios.get(BASEURL + topic + '&begin_date=' + begin_date + '&end_date=' + end_date + '&fl=web_url,headline,pub_date' + APIKEY);\n    console.log(\"end search\");\n    var results = [];\n    var result = {};\n\n    for (var i = 0; i < queryResults.length; i++) {\n      result.title = queryResults[i][\"headline\"][\"main\"];\n      result.web_url = queryResults[i][\"web_url\"];\n      var pub = queryResults[i][\"pub_date\"];\n      result.pub_date = pub.split(\"T\")[0];\n      var pub_time = pub.split(\"T\")[1];\n      result.pub_time = pub_time.split(\"+\")[0];\n      console.log(\"result\", result);\n      results.push(result);\n    }\n\n    return results;\n  },\n  // search: function(topic, fromDate, toDate) {\n  //   console.log(\"inside search\");\n  //   console.log(\"prameters\", topic, fromDate, toDate);\n  //   console.log(axios.get(BASEURL + topic + '&from='+ fromDate + '&to='+toDate + '&fl=web_url, headline, pub_date' + APIKEY));\n  //   return axios.get(BASEURL + topic + '&from='+ fromDate + '&to='+toDate + '&fl=web_url, headline, pub_date' + APIKEY);\n  // },\n  saveThisArticle: function saveThisArticle(articleData) {\n    return axios.post(\"/api/articles/\", articleData);\n  },\n  deleteArticle: function deleteArticle(id) {\n    return axios.delete(\"/api/articles/\", id);\n  },\n  getSavedArticles: function getSavedArticles() {\n    console.log(\"inside getSavedArticles\");\n    return axios.get(\"/api/articles/\");\n  }\n};","map":{"version":3,"sources":["C:\\Users\\sabho\\Desktop\\code\\week19\\homework\\nytreactsearch\\client\\src\\utils\\API.js"],"names":["axios","BASEURL","APIKEY","search","topic","begin_date","end_date","console","log","get","queryResults","results","result","i","length","title","web_url","pub","pub_date","split","pub_time","push","saveThisArticle","articleData","post","deleteArticle","id","delete","getSavedArticles"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,IAAMC,OAAO,GAAG,6DAAhB;AACA,IAAMC,MAAM,GAAG,0CAAf,C,CAEA;AACA;AACA;;AAEA,eAAe;AACb;AACAC,EAAAA,MAAM,EAAE,kBAAsE;AAAA,QAA7DC,KAA6D,uEAAvD,SAAuD;AAAA,QAA5CC,UAA4C,uEAAjC,UAAiC;AAAA,QAArBC,QAAqB,uEAAZ,UAAY;AAC5EC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBP,OAAO,GAAGG,KAAV,GAAkB,cAAlB,GAAkCC,UAAlC,GAA+C,YAA/C,GAA4DC,QAA5D,GAAuE,+BAAvE,GAAyGJ,MAAhI;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYR,KAAK,CAACS,GAAN,CAAUR,OAAO,GAAGG,KAAV,GAAkB,cAAlB,GAAkCC,UAAlC,GAA+C,YAA/C,GAA4DC,QAA5D,GAAuE,+BAAvE,GAAyGJ,MAAnH,CAAZ;AACA,QAAMQ,YAAY,GAAGV,KAAK,CAACS,GAAN,CAAUR,OAAO,GAAGG,KAAV,GAAkB,cAAlB,GAAkCC,UAAlC,GAA+C,YAA/C,GAA4DC,QAA5D,GAAuE,+BAAvE,GAAyGJ,MAAnH,CAArB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,QAAMG,OAAO,GAAG,EAAhB;AACA,QAAIC,MAAM,GAAG,EAAb;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,YAAY,CAACI,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5CD,MAAAA,MAAM,CAACG,KAAP,GAAgBL,YAAY,CAACG,CAAD,CAAZ,CAAgB,UAAhB,EAA4B,MAA5B,CAAhB;AACAD,MAAAA,MAAM,CAACI,OAAP,GAAiBN,YAAY,CAACG,CAAD,CAAZ,CAAgB,SAAhB,CAAjB;AACA,UAAII,GAAG,GAAGP,YAAY,CAACG,CAAD,CAAZ,CAAgB,UAAhB,CAAV;AACAD,MAAAA,MAAM,CAACM,QAAP,GAAkBD,GAAG,CAACE,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAlB;AACA,UAAIC,QAAQ,GAAGH,GAAG,CAACE,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAf;AACAP,MAAAA,MAAM,CAACQ,QAAP,GAAkBA,QAAQ,CAACD,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAlB;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBI,MAAtB;AACAD,MAAAA,OAAO,CAACU,IAAR,CAAaT,MAAb;AACD;;AACD,WAAOD,OAAP;AACD,GApBY;AAqBb;AACA;AACA;AACA;AACA;AACA;AACAW,EAAAA,eAAe,EAAE,yBAASC,WAAT,EAAsB;AACrC,WAAOvB,KAAK,CAACwB,IAAN,CAAW,gBAAX,EAA6BD,WAA7B,CAAP;AACD,GA7BY;AA8BbE,EAAAA,aAAa,EAAE,uBAASC,EAAT,EAAa;AAC1B,WAAO1B,KAAK,CAAC2B,MAAN,CAAa,gBAAb,EAA+BD,EAA/B,CAAP;AACD,GAhCY;AAiCbE,EAAAA,gBAAgB,EAAE,4BAAW;AAC3BrB,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACA,WAAOR,KAAK,CAACS,GAAN,CAAU,gBAAV,CAAP;AACD;AApCY,CAAf","sourcesContent":["import axios from \"axios\";\r\n\r\n//NYT\r\nconst BASEURL = \"https://api.nytimes.com/svc/search/v2/articlesearch.json?q=\";\r\nconst APIKEY = \"&apikey=6f9813872a14472ab89dd98413980828\";\r\n\r\n// The Economist\r\n// const BASEURL = \"https://newsapi.org/v2/everything?q=\";\r\n// const APIKEY = \"&apiKey=67d4789abce04860812417025e343f7b$limit=10\";\r\n\r\nexport default {\r\n  // NYT\r\n  search: function(topic=\"Seattle\", begin_date=\"20180117\", end_date=\"20180118\") {\r\n    console.log(\"query: \", BASEURL + topic + '&begin_date='+ begin_date + '&end_date='+end_date + '&fl=web_url,headline,pub_date' + APIKEY);\r\n    console.log(axios.get(BASEURL + topic + '&begin_date='+ begin_date + '&end_date='+end_date + '&fl=web_url,headline,pub_date' + APIKEY));\r\n    const queryResults = axios.get(BASEURL + topic + '&begin_date='+ begin_date + '&end_date='+end_date + '&fl=web_url,headline,pub_date' + APIKEY);\r\n    console.log(\"end search\");\r\n    const results = [];\r\n    let result = {}\r\n    for (var i = 0; i < queryResults.length; i++) {\r\n      result.title =  queryResults[i][\"headline\"][\"main\"];\r\n      result.web_url = queryResults[i][\"web_url\"];\r\n      var pub = queryResults[i][\"pub_date\"];\r\n      result.pub_date = pub.split(\"T\")[0];\r\n      var pub_time = pub.split(\"T\")[1];\r\n      result.pub_time = pub_time.split(\"+\")[0];\r\n      console.log(\"result\", result);\r\n      results.push(result);\r\n    }\r\n    return results;\r\n  }, \r\n  // search: function(topic, fromDate, toDate) {\r\n  //   console.log(\"inside search\");\r\n  //   console.log(\"prameters\", topic, fromDate, toDate);\r\n  //   console.log(axios.get(BASEURL + topic + '&from='+ fromDate + '&to='+toDate + '&fl=web_url, headline, pub_date' + APIKEY));\r\n  //   return axios.get(BASEURL + topic + '&from='+ fromDate + '&to='+toDate + '&fl=web_url, headline, pub_date' + APIKEY);\r\n  // },\r\n  saveThisArticle: function(articleData) {\r\n    return axios.post(\"/api/articles/\", articleData);\r\n  },\r\n  deleteArticle: function(id) {\r\n    return axios.delete(\"/api/articles/\", id);\r\n  },\r\n  getSavedArticles: function() {\r\n    console.log(\"inside getSavedArticles\");\r\n    return axios.get(\"/api/articles/\");\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}